---
import { classNames } from "@/utils/lib";

export interface Props {
  title: string;
  class?: string;
}

const {
  props: {title, class: className},
  url: { pathname },
} = Astro;

const buttons = [
  { text: "Falopa", active: pathname === "/falopa" },
  { text: "Button", active: pathname === "/" },
];
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <script is:inline>
      // ☝️ This script prevent the FART effect.
      const theme = localStorage.getItem("theme") ?? "dark";
      document.documentElement.setAttribute("data-theme", theme);
      // "theme" LocalStorage value is set by the package to remember user preference.
      // The value is checked and applyed before rendering anything.
    </script>
    <script>
      import { themeChange } from "theme-change";
      themeChange();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body class="container mx-auto min-h-screen max-w-2xl">
    <header class="navbar mb-5 p-0 sm:mb-10">
      <nav class="navbar-start">
        <div class="ml-[-1rem] inline-flex">
          {
            buttons.map(({ text, active }) => (
              <button
                class={classNames(
                  "btn btn-ghost normal-case",
                  !active && "font-normal"
                )}
              >
                {text}
              </button>
            ))
          }
          <a
            href="https://github.com/juancortelezzi"
            rel="noreferrer"
            target="_blank"
          >
            <button class="btn btn-ghost font-normal normal-case">
              Github
            </button>
          </a>
        </div>
      </nav>
      <div class="navbar-end">
        <input
          type="checkbox"
          data-toggle-theme="dark,light"
          data-act-class="ACTIVECLASS"
          class="toggle toggle-primary"
        />
      </div>
    </header>
    <main class={classNames("grow px-4", !!className && className)}>
      <slot />
    </main>
  </body>
</html>
